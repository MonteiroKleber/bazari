# üìã Sistema de Marketplace do Afiliado - Especifica√ß√£o Funcional

**Vers√£o**: 1.0.0
**Data**: 2025-10-15
**Arquitetura**: H√≠brida Descentralizada (BazariChain + Apps/API)
**Reposit√≥rios**: `~/bazari-chain` (blockchain) + `~/bazari` (apps)

---

## üéØ Vis√£o Geral

### Conceito Central

Transformar cada cidad√£o em **dono do seu pr√≥prio marketplace personalizado**, onde pode:

- Criar sua pr√≥pria vitrine com nome, URL e identidade visual pr√≥pria
- Selecionar produtos de m√∫ltiplas lojas parceiras j√° cadastradas na Bazari
- Ganhar comiss√µes autom√°ticas em BZR por cada venda realizada
- Construir reputa√ß√£o on-chain como curador/promotor

**Diferencial**: Diferente de marketplaces centralizados (Shopee, Mercado Livre), cada afiliado tem **autonomia total**, **marca pr√≥pria** e **participa√ß√£o direta na economia descentralizada**.

### Slogan

> "Cada pessoa, uma vitrine. Cada venda, um passo para a liberdade."

---

## üèóÔ∏è Arquitetura H√≠brida Descentralizada

### Camada 1: BazariChain (On-Chain)

**Responsabilidades:**
- ‚úÖ Registro de afiliados (identidade descentralizada)
- ‚úÖ Pol√≠ticas de comiss√£o por loja
- ‚úÖ Split autom√°tico de pagamentos (lojista/afiliado/tesouro)
- ‚úÖ Registro imut√°vel de vendas (recibo NFT)
- ‚úÖ Reputa√ß√£o de afiliados (score p√∫blico)
- ‚úÖ Eventos de venda para tracking

**Pallets Necess√°rios:**
- `bazari-commerce` (NOVO) - Split de pagamentos e comiss√µes
- `bazari-identity` (EXISTENTE) - Reputa√ß√£o de afiliados
- `stores` (EXISTENTE) - Lojas NFT

### Camada 2: Apps/API (Off-Chain)

**Responsabilidades:**
- ‚úÖ Cat√°logo de produtos afili√°veis (PostgreSQL + IPFS)
- ‚úÖ Vitrine personalizada do afiliado (layout, cores, logo)
- ‚úÖ Sistema de busca e descoberta de produtos
- ‚úÖ Analytics e estat√≠sticas de vendas
- ‚úÖ Notifica√ß√µes e comunica√ß√£o (BazChat integrado)
- ‚úÖ Cache de dados on-chain

**Tecnologias:**
- Backend: Fastify + Prisma + PostgreSQL
- Frontend: React + Vite + TypeScript + shadcn/ui
- Storage: IPFS (metadados) + S3 (imagens)
- Blockchain: Polkadot.js + BazariChain

### Camada 3: IPFS (Storage Descentralizado)

**Armazenamento:**
- Metadados da vitrine (nome, descri√ß√£o, tema)
- Imagens de produtos
- Recibos NFT de vendas
- Avalia√ß√µes e reviews

---

## üìä Modelo de Dados

### 1. BazariChain (On-Chain)

#### Pallet: `bazari-commerce`

```rust
/// Pol√≠tica de comiss√£o da loja
pub struct CommissionPolicy {
    pub mode: CommissionMode,
    pub percent: u8,              // 0-20%
    pub min_reputation: Option<i32>,
    pub daily_cap: Option<Balance>,
}

pub enum CommissionMode {
    Open,        // Qualquer um pode promover
    Followers,   // Apenas seguidores da loja
    Affiliates,  // Lista aprovada (requer aprova√ß√£o manual)
}

/// Registro de afiliado aprovado
pub struct AffiliateApproval<AccountId> {
    pub store_id: u64,
    pub affiliate_id: AccountId,
    pub custom_commission: Option<u8>,
    pub monthly_cap: Option<Balance>,
    pub status: ApprovalStatus,
    pub approved_at: BlockNumber,
}

pub enum ApprovalStatus {
    Pending,
    Approved,
    Rejected,
    Suspended,
}

/// Registro de venda com split autom√°tico
pub struct Sale<AccountId, Balance, BlockNumber> {
    pub sale_id: u64,
    pub store_id: u64,
    pub buyer: AccountId,
    pub seller: AccountId,
    pub affiliate: Option<AccountId>,
    pub amount: Balance,
    pub commission_percent: u8,
    pub commission_amount: Balance,
    pub bazari_fee: Balance,
    pub seller_amount: Balance,
    pub status: SaleStatus,
    pub created_at: BlockNumber,
    pub receipt_cid: Option<Vec<u8>>,
}

pub enum SaleStatus {
    Pending,
    Completed,
    Disputed,
    Reversed,
}

/// Estat√≠sticas de afiliado (on-chain)
pub struct AffiliateStats<Balance> {
    pub total_sales: u64,
    pub total_volume: Balance,
    pub total_commission: Balance,
    pub reputation_score: i32,
    pub trust_level: TrustLevel,
}

pub enum TrustLevel {
    None,
    Bronze,   // 10+ vendas, 90%+ feedback positivo
    Silver,   // 50+ vendas, 95%+ feedback positivo
    Gold,     // 200+ vendas, 98%+ feedback positivo
    Platinum, // 1000+ vendas, 99%+ feedback positivo
}
```

#### Storage

```rust
/// Pol√≠ticas de comiss√£o por loja
pub type CommissionPolicies<T> = StorageMap<_, Blake2_128Concat, u64, CommissionPolicy<T>>;

/// Afiliados aprovados
pub type AffiliateApprovals<T> = StorageDoubleMap<
    _,
    Blake2_128Concat, u64,           // store_id
    Blake2_128Concat, T::AccountId,  // affiliate_id
    AffiliateApproval<T::AccountId, T::BlockNumber>
>;

/// Registro de vendas
pub type Sales<T> = StorageMap<_, Blake2_128Concat, u64, Sale<T>>;

/// Estat√≠sticas de afiliados
pub type AffiliateStatsMap<T> = StorageMap<_, Blake2_128Concat, T::AccountId, AffiliateStats<T>>;

/// Contador de vendas
pub type NextSaleId<T> = StorageValue<_, u64, ValueQuery>;
```

#### Extrinsics

```rust
#[pallet::call]
impl<T: Config> Pallet<T> {
    /// Definir pol√≠tica de comiss√£o (apenas dono da loja)
    pub fn set_commission_policy(
        origin: OriginFor<T>,
        store_id: u64,
        mode: CommissionMode,
        percent: u8,
        min_reputation: Option<i32>,
        daily_cap: Option<BalanceOf<T>>,
    ) -> DispatchResult;

    /// Solicitar afilia√ß√£o (modo 'Affiliates')
    pub fn request_affiliation(
        origin: OriginFor<T>,
        store_id: u64,
    ) -> DispatchResult;

    /// Aprovar afiliado (apenas dono da loja)
    pub fn approve_affiliate(
        origin: OriginFor<T>,
        store_id: u64,
        affiliate_id: T::AccountId,
        custom_commission: Option<u8>,
        monthly_cap: Option<BalanceOf<T>>,
    ) -> DispatchResult;

    /// Rejeitar afiliado
    pub fn reject_affiliate(
        origin: OriginFor<T>,
        store_id: u64,
        affiliate_id: T::AccountId,
    ) -> DispatchResult;

    /// Criar venda com split autom√°tico
    pub fn create_sale(
        origin: OriginFor<T>,
        store_id: u64,
        buyer: T::AccountId,
        amount: BalanceOf<T>,
        affiliate: Option<T::AccountId>,
        commission_percent: u8,
    ) -> DispatchResult;

    /// Mint recibo NFT
    pub fn mint_sale_receipt(
        origin: OriginFor<T>,
        sale_id: u64,
        receipt_cid: Vec<u8>,
    ) -> DispatchResult;

    /// Disputar venda
    pub fn dispute_sale(
        origin: OriginFor<T>,
        sale_id: u64,
        reason: Vec<u8>,
    ) -> DispatchResult;
}
```

#### Events

```rust
#[pallet::event]
pub enum Event<T: Config> {
    /// Pol√≠tica de comiss√£o atualizada
    CommissionPolicySet {
        store_id: u64,
        mode: CommissionMode,
        percent: u8,
    },

    /// Solicita√ß√£o de afilia√ß√£o
    AffiliationRequested {
        store_id: u64,
        affiliate_id: T::AccountId,
    },

    /// Afiliado aprovado
    AffiliateApproved {
        store_id: u64,
        affiliate_id: T::AccountId,
        commission: u8,
    },

    /// Venda completada com split
    SaleCompleted {
        sale_id: u64,
        store_id: u64,
        buyer: T::AccountId,
        seller: T::AccountId,
        affiliate: Option<T::AccountId>,
        amount: BalanceOf<T>,
        commission: BalanceOf<T>,
        bazari_fee: BalanceOf<T>,
    },

    /// Recibo NFT mintado
    ReceiptMinted {
        sale_id: u64,
        receipt_cid: Vec<u8>,
    },

    /// Venda disputada
    SaleDisputed {
        sale_id: u64,
        disputer: T::AccountId,
        reason: Vec<u8>,
    },
}
```

### 2. Apps/API (Off-Chain)

#### Schema Prisma

```prisma
// Marketplace do Afiliado
model AffiliateMarketplace {
  id                String   @id @default(uuid())
  ownerId           String   // profileId do afiliado
  owner             Profile  @relation(fields: [ownerId], references: [id])

  // Branding
  name              String   // "Loja do Z√©", "Vitrine da Maria"
  slug              String   @unique // "loja-do-ze", "vitrine-maria"
  description       String?  @db.Text
  logoUrl           String?
  bannerUrl         String?
  theme             String   @default("bazari") // bazari, night, sandstone, etc
  primaryColor      String?
  secondaryColor    String?

  // Metadados IPFS
  metadataCid       String?

  // Estat√≠sticas (cache off-chain)
  totalSales        Int      @default(0)
  totalRevenue      Decimal  @default(0) @db.Decimal(20, 8)
  totalCommission   Decimal  @default(0) @db.Decimal(20, 8)
  productCount      Int      @default(0)

  // Status
  isActive          Boolean  @default(true)
  isPublic          Boolean  @default(true)

  createdAt         BigInt
  updatedAt         BigInt

  products          AffiliateProduct[]
  sales             AffiliateSale[]

  @@index([ownerId])
  @@index([slug])
  @@index([isActive, isPublic])
}

// Produtos adicionados ao marketplace do afiliado
model AffiliateProduct {
  id                String              @id @default(uuid())
  marketplaceId     String
  marketplace       AffiliateMarketplace @relation(fields: [marketplaceId], references: [id])

  // Produto original
  storeId           BigInt              // ID on-chain da loja
  productId         String              // ID do produto off-chain
  productName       String
  productImageUrl   String?
  productPrice      Decimal             @db.Decimal(20, 8)

  // Comiss√£o
  commissionPercent Int                 // 0-20

  // Customiza√ß√µes do afiliado (opcional)
  customDescription String?             @db.Text
  customImageUrl    String?
  featured          Boolean             @default(false)

  // Tracking
  viewCount         Int                 @default(0)
  clickCount        Int                 @default(0)

  addedAt           BigInt
  updatedAt         BigInt

  @@unique([marketplaceId, storeId, productId])
  @@index([marketplaceId])
  @@index([storeId])
}

// Cache de vendas (sincronizado com on-chain)
model AffiliateSale {
  id                String              @id @default(uuid())
  onChainSaleId     BigInt              @unique // ID da venda on-chain

  marketplaceId     String?
  marketplace       AffiliateMarketplace? @relation(fields: [marketplaceId], references: [id])

  // Participantes
  storeId           BigInt
  buyerAddress      String
  sellerAddress     String
  affiliateAddress  String?

  // Valores
  amount            Decimal             @db.Decimal(20, 8)
  commissionPercent Int
  commissionAmount  Decimal             @db.Decimal(20, 8)
  bazariFee         Decimal             @db.Decimal(20, 8)
  sellerAmount      Decimal             @db.Decimal(20, 8)

  // Status
  status            String              // pending, completed, disputed, reversed
  txHash            String?

  // Recibo NFT
  receiptCid        String?

  createdAt         BigInt
  updatedAt         BigInt

  @@index([marketplaceId])
  @@index([storeId])
  @@index([affiliateAddress])
  @@index([status])
}

// Pol√≠ticas de comiss√£o (cache off-chain)
model StoreCommissionPolicy {
  id                String   @id @default(uuid())
  storeId           BigInt   @unique

  mode              String   // open, followers, affiliates
  percent           Int      // 0-20
  minReputation     Int?
  dailyCap          Decimal? @db.Decimal(20, 8)

  // Sincroniza√ß√£o on-chain
  onChainSynced     Boolean  @default(false)
  lastSyncedAt      BigInt?

  createdAt         BigInt
  updatedAt         BigInt

  @@index([storeId, mode])
}

// Solicita√ß√µes de afilia√ß√£o (modo 'affiliates')
model AffiliateRequest {
  id                String   @id @default(uuid())
  storeId           BigInt
  affiliateId       String   // profileId
  affiliate         Profile  @relation(fields: [affiliateId], references: [id])

  status            String   @default("pending") // pending, approved, rejected
  message           String?  @db.Text

  // Configura√ß√£o aprovada
  customCommission  Int?
  monthlyCap        Decimal? @db.Decimal(20, 8)

  requestedAt       BigInt
  approvedAt        BigInt?
  rejectedAt        BigInt?

  @@unique([storeId, affiliateId])
  @@index([affiliateId, status])
  @@index([storeId, status])
}

// Rankings e gamifica√ß√£o
model AffiliateRanking {
  id                String   @id @default(uuid())
  affiliateId       String   @unique
  affiliate         Profile  @relation(fields: [affiliateId], references: [id])

  // Per√≠odo
  period            String   // weekly, monthly, all-time
  periodStart       BigInt
  periodEnd         BigInt

  // M√©tricas
  rank              Int
  totalSales        Int
  totalRevenue      Decimal  @db.Decimal(20, 8)
  totalCommission   Decimal  @db.Decimal(20, 8)

  // Badge
  badgeLevel        String?  // bronze, silver, gold, platinum

  createdAt         BigInt
  updatedAt         BigInt

  @@unique([affiliateId, period, periodStart])
  @@index([period, rank])
}
```

---

## üîÑ Fluxo de Funcionamento

### Fluxo 1: Cria√ß√£o do Marketplace Afiliado

```mermaid
sequenceDiagram
    participant User as Usu√°rio
    participant WebApp as App Web
    participant API as API Backend
    participant DB as PostgreSQL
    participant IPFS as IPFS
    participant Chain as BazariChain

    User->>WebApp: Clica "Criar Meu Marketplace"
    WebApp->>User: Formul√°rio (nome, slug, tema, cores)
    User->>WebApp: Preenche e confirma
    WebApp->>API: POST /api/affiliates/marketplaces
    API->>DB: Valida slug √∫nico
    API->>IPFS: Upload metadata (logo, banner)
    IPFS-->>API: Return CID
    API->>DB: INSERT AffiliateMarketplace
    API->>Chain: [Opcional] Register affiliate identity
    Chain-->>API: Event: AffiliateRegistered
    API-->>WebApp: Retorna marketplace criado
    WebApp->>User: Exibe vitrine: bazari.xyz/@loja-do-ze
```

### Fluxo 2: Adicionando Produtos √† Vitrine

```mermaid
sequenceDiagram
    participant Affiliate as Afiliado
    participant WebApp as App Web
    participant API as API Backend
    participant DB as PostgreSQL
    participant Chain as BazariChain

    Affiliate->>WebApp: Navega em "Produtos Afili√°veis"
    WebApp->>API: GET /api/products?affiliable=true
    API->>DB: SELECT produtos com comiss√£o ativa
    API->>Chain: Query commission policies
    API-->>WebApp: Retorna lista de produtos
    WebApp->>Affiliate: Exibe cat√°logo
    Affiliate->>WebApp: Clica "Adicionar √† minha vitrine"
    WebApp->>API: POST /api/affiliates/marketplaces/:id/products
    API->>Chain: Valida comiss√£o e permiss√µes
    alt Modo = Affiliates (aprova√ß√£o necess√°ria)
        Chain-->>API: Error: Not approved
        API-->>WebApp: 403 Forbidden
        WebApp->>Affiliate: "Solicite afilia√ß√£o primeiro"
    else Modo = Open ou Followers
        API->>DB: INSERT AffiliateProduct
        API-->>WebApp: 201 Created
        WebApp->>Affiliate: Produto adicionado!
    end
```

### Fluxo 3: Compra via Marketplace do Afiliado

```mermaid
sequenceDiagram
    participant Buyer as Comprador
    participant AffPage as Vitrine (bazari.xyz/@loja-do-ze)
    participant API as API Backend
    participant Chain as BazariChain
    participant Escrow as Conta Escrow
    participant Seller as Vendedor
    participant Affiliate as Afiliado

    Buyer->>AffPage: Navega produtos da vitrine
    AffPage->>Buyer: Exibe produtos com tracking de afiliado
    Buyer->>AffPage: Clica "Comprar"
    AffPage->>API: POST /api/orders (com affiliateId)
    API->>Chain: Query commission policy
    Chain-->>API: Commission = 10%
    API->>API: Calcula split: 88% seller + 10% afiliado + 2% Bazari
    API->>Chain: create_sale(store_id, buyer, amount, affiliate, 10)

    Note over Chain: Split Autom√°tico On-Chain
    Chain->>Buyer: Transfere BZR do comprador ‚Üí escrow
    Chain->>Seller: Transfere 88% ‚Üí vendedor
    Chain->>Affiliate: Transfere 10% ‚Üí afiliado
    Chain->>Escrow: Transfere 2% ‚Üí tesouro Bazari

    Chain-->>API: Event: SaleCompleted {sale_id, commission, ...}
    API->>DB: INSERT AffiliateSale (cache)
    API->>IPFS: Upload recibo NFT
    IPFS-->>API: Return receipt_cid
    API->>Chain: mint_sale_receipt(sale_id, receipt_cid)
    Chain-->>API: Event: ReceiptMinted

    API-->>AffPage: 200 OK {sale_id, txHash}
    AffPage->>Buyer: "Compra realizada! Recibo NFT: ipfs://..."

    Note over Chain: Atualiza√ß√£o de Reputa√ß√£o
    Chain->>Chain: Increment seller reputation (+10)
    Chain->>Chain: Increment affiliate reputation (+5)
```

### Fluxo 4: Solicita√ß√£o de Afilia√ß√£o (Modo 'Affiliates')

```mermaid
sequenceDiagram
    participant Promoter as Promotor
    participant WebApp as App Web
    participant API as API Backend
    participant DB as PostgreSQL
    participant Chain as BazariChain
    participant StoreOwner as Dono da Loja

    Promoter->>WebApp: Tenta adicionar produto
    WebApp->>API: Verifica pol√≠tica da loja
    API->>Chain: Query commission_policy(store_id)
    Chain-->>API: mode = 'Affiliates' (requer aprova√ß√£o)
    API-->>WebApp: Exibe bot√£o "Solicitar Afilia√ß√£o"
    Promoter->>WebApp: Clica "Solicitar Afilia√ß√£o"
    WebApp->>API: POST /api/affiliates/requests
    API->>DB: INSERT AffiliateRequest (status: pending)
    API->>Chain: request_affiliation(store_id)
    Chain-->>API: Event: AffiliationRequested
    API->>StoreOwner: Notifica√ß√£o: "Novo pedido de afilia√ß√£o"
    API-->>WebApp: 201 Created
    WebApp->>Promoter: "Solicita√ß√£o enviada. Aguarde aprova√ß√£o."

    Note over StoreOwner: Dono avalia o promotor
    StoreOwner->>WebApp: Acessa painel "Gerenciar Afiliados"
    StoreOwner->>WebApp: Aprova com comiss√£o customizada (8%)
    WebApp->>API: POST /api/affiliates/approve
    API->>Chain: approve_affiliate(store_id, promoter, custom_commission: 8)
    Chain-->>API: Event: AffiliateApproved
    API->>DB: UPDATE AffiliateRequest (status: approved)
    API->>Promoter: Notifica√ß√£o: "Voc√™ foi aprovado! Comiss√£o: 8%"
    API-->>WebApp: 200 OK
    WebApp->>StoreOwner: "Afiliado aprovado"
```

---

## üé® Interface do Usu√°rio

### 1. P√°gina P√∫blica da Vitrine

**URL**: `bazari.xyz/@{slug}`

**Componentes:**
- Header personalizado (logo, nome, descri√ß√£o)
- Grid de produtos (com imagens, pre√ßos, bot√£o "Comprar")
- Footer com branding do afiliado
- Badge de confian√ßa (bronze/silver/gold/platinum)
- Estat√≠sticas p√∫blicas (vendas, avalia√ß√µes)

**Exemplo:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [Logo]  Loja do Z√©                       ‚îÇ
‚îÇ  "Os melhores produtos da quebrada"       ‚îÇ
‚îÇ  ‚≠ê Afiliado Gold ‚Ä¢ 234 vendas            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Produto ‚îÇ  ‚îÇ Produto ‚îÇ  ‚îÇ Produto ‚îÇ
‚îÇ  150 BZR‚îÇ  ‚îÇ  89 BZR ‚îÇ  ‚îÇ  320 BZR‚îÇ
‚îÇ [Comprar]‚îÇ  ‚îÇ[Comprar]‚îÇ  ‚îÇ[Comprar]‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Produto ‚îÇ  ‚îÇ Produto ‚îÇ  ‚îÇ Produto ‚îÇ
‚îÇ  75 BZR ‚îÇ  ‚îÇ  200 BZR‚îÇ  ‚îÇ  45 BZR ‚îÇ
‚îÇ [Comprar]‚îÇ  ‚îÇ[Comprar]‚îÇ  ‚îÇ[Comprar]‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. Painel do Afiliado

**URL**: `/app/affiliate/dashboard`

**Se√ß√µes:**
- **Vis√£o Geral**: Vendas, comiss√µes, visitantes
- **Meus Produtos**: Gerenciar produtos da vitrine
- **Adicionar Produtos**: Buscar produtos afili√°veis
- **Estat√≠sticas**: Gr√°ficos de vendas, top produtos
- **Configura√ß√µes**: Editar nome, cores, logo
- **Afilia√ß√µes**: Status de solicita√ß√µes pendentes

**Exemplo:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Dashboard - Loja do Z√©                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìä Este M√™s                                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ 45 vendas‚îÇ ‚îÇ 1.2k BZR ‚îÇ ‚îÇ 120 BZR  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ          ‚îÇ ‚îÇ volume   ‚îÇ ‚îÇ comiss√£o ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üèÜ Ranking                                 ‚îÇ
‚îÇ  Voc√™ est√° em #23 dos afiliados do m√™s     ‚îÇ
‚îÇ  Badge atual: ü•à Silver                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üì¶ Produtos (12)                           ‚îÇ
‚îÇ  [+ Adicionar Produtos]                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Produto A - 15 vendas - 45 BZR      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Produto B - 8 vendas - 32 BZR       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Produto C - 22 vendas - 110 BZR     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. Painel do Lojista (Gerenciar Afiliados)

**URL**: `/app/seller/affiliates`

**Se√ß√µes:**
- **Pol√≠tica de Comiss√£o**: Definir modo (open/followers/affiliates) e %
- **Solicita√ß√µes Pendentes**: Aprovar/Rejeitar afiliados
- **Afiliados Ativos**: Ver performance, suspender, editar comiss√£o
- **Top Afiliados**: Ranking por vendas

**Exemplo:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Gerenciar Afiliados - Minha Loja          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚öôÔ∏è Pol√≠tica de Comiss√£o                    ‚îÇ
‚îÇ  Modo: ‚óã Aberto  ‚óã Seguidores  ‚óè Afiliados ‚îÇ
‚îÇ  Comiss√£o padr√£o: [10] %                    ‚îÇ
‚îÇ  Reputa√ß√£o m√≠nima: [50]                     ‚îÇ
‚îÇ  [Salvar Configura√ß√µes]                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üì¨ Solicita√ß√µes Pendentes (3)              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ @maria_promotora                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Reputa√ß√£o: 120 ‚Ä¢ 45 vendas           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ [Aprovar] [Rejeitar]                 ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ @joao_afiliado                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Reputa√ß√£o: 85 ‚Ä¢ 28 vendas            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ [Aprovar] [Rejeitar]                 ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚úÖ Afiliados Ativos (12)                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ @ana_vendas - 10% comiss√£o           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ 89 vendas ‚Ä¢ 4.5k BZR gerados         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ [Editar] [Suspender]                 ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì° API Endpoints

### Afiliados (Promotores)

#### `POST /api/affiliates/marketplaces`
Criar marketplace do afiliado

**Body:**
```json
{
  "name": "Loja do Z√©",
  "slug": "loja-do-ze",
  "description": "Os melhores produtos da quebrada",
  "theme": "bazari",
  "primaryColor": "#D84315",
  "secondaryColor": "#FFB300"
}
```

**Response:**
```json
{
  "id": "uuid",
  "name": "Loja do Z√©",
  "slug": "loja-do-ze",
  "url": "https://bazari.xyz/@loja-do-ze",
  "createdAt": 1697328000000
}
```

#### `GET /api/affiliates/marketplaces/:slug`
Obter marketplace p√∫blico

#### `PUT /api/affiliates/marketplaces/:id`
Atualizar marketplace

#### `POST /api/affiliates/marketplaces/:id/products`
Adicionar produto √† vitrine

**Body:**
```json
{
  "storeId": 123,
  "productId": "prod-abc-123",
  "customDescription": "Descri√ß√£o customizada (opcional)",
  "featured": false
}
```

#### `DELETE /api/affiliates/marketplaces/:id/products/:productId`
Remover produto da vitrine

#### `GET /api/affiliates/marketplaces/:id/analytics`
Obter estat√≠sticas do marketplace

**Response:**
```json
{
  "period": "monthly",
  "sales": 45,
  "revenue": "1250.50",
  "commission": "125.05",
  "visitors": 1234,
  "conversionRate": 3.6,
  "topProducts": [
    {
      "productId": "prod-1",
      "name": "Produto A",
      "sales": 15,
      "commission": "45.00"
    }
  ]
}
```

#### `POST /api/affiliates/requests`
Solicitar afilia√ß√£o a uma loja

**Body:**
```json
{
  "storeId": 123,
  "message": "Ol√°! Gostaria de promover seus produtos."
}
```

#### `GET /api/affiliates/requests/me`
Listar minhas solicita√ß√µes de afilia√ß√£o

### Lojistas (Donos de Loja)

#### `POST /api/stores/:id/commission-policy`
Definir pol√≠tica de comiss√£o

**Body:**
```json
{
  "mode": "affiliates",
  "percent": 10,
  "minReputation": 50,
  "dailyCap": "1000.00"
}
```

#### `GET /api/stores/:id/affiliates`
Listar afiliados da loja

**Query:**
- `status=pending|approved|rejected`

#### `POST /api/stores/:id/affiliates/approve`
Aprovar afiliado

**Body:**
```json
{
  "affiliateId": "profile-id",
  "customCommission": 8,
  "monthlyCap": "5000.00"
}
```

#### `POST /api/stores/:id/affiliates/reject`
Rejeitar afiliado

#### `PUT /api/stores/:id/affiliates/:affiliateId`
Atualizar configura√ß√£o de afiliado

### Produtos

#### `GET /api/products?affiliable=true`
Listar produtos afili√°veis

**Query:**
- `category`
- `minCommission`
- `maxCommission`
- `storeId`

**Response:**
```json
{
  "products": [
    {
      "id": "prod-1",
      "storeId": 123,
      "storeName": "Loja Oficial",
      "name": "Produto A",
      "price": "150.00",
      "imageUrl": "ipfs://...",
      "commission": {
        "mode": "open",
        "percent": 10
      }
    }
  ]
}
```

### Rankings

#### `GET /api/affiliates/rankings`
Obter ranking de afiliados

**Query:**
- `period=weekly|monthly|all-time`
- `limit=10`

**Response:**
```json
{
  "period": "monthly",
  "rankings": [
    {
      "rank": 1,
      "affiliateId": "profile-1",
      "handle": "@ana_vendas",
      "sales": 234,
      "revenue": "12500.00",
      "commission": "1250.00",
      "badgeLevel": "gold"
    }
  ]
}
```

---

## ‚öôÔ∏è Implementa√ß√£o na BazariChain

### Pallet: `bazari-commerce`

**Localiza√ß√£o**: `~/bazari-chain/pallets/bazari-commerce/src/lib.rs`

**Tamanho Estimado**: ~600 linhas

**Implementa√ß√£o:**

```rust
// Import necess√°rios
use frame_support::{
    decl_error, decl_event, decl_module, decl_storage,
    dispatch::DispatchResult,
    ensure,
    traits::{Currency, ExistenceRequirement, Get},
};
use frame_system::ensure_signed;
use sp_runtime::traits::Zero;
use sp_std::vec::Vec;

// Configura√ß√£o do pallet
pub trait Config: frame_system::Config + pallet_stores::Config {
    type Event: From<Event<Self>> + Into<<Self as frame_system::Config>::Event>;
    type Currency: Currency<Self::AccountId>;
    type BazariFeePercent: Get<u8>;
    type TreasuryAccount: Get<Self::AccountId>;
}

// Storage - j√° definido acima

// Implementa√ß√£o dos extrinsics
decl_module! {
    pub struct Module<T: Config> for enum Call where origin: T::Origin {
        fn deposit_event() = default;

        /// Definir pol√≠tica de comiss√£o
        #[weight = 10_000]
        pub fn set_commission_policy(
            origin,
            store_id: u64,
            mode: CommissionMode,
            percent: u8,
            min_reputation: Option<i32>,
            daily_cap: Option<BalanceOf<T>>,
        ) -> DispatchResult {
            let owner = ensure_signed(origin)?;

            // Verificar ownership da loja
            ensure!(
                pallet_stores::Module::<T>::is_store_owner(store_id, &owner),
                Error::<T>::NotStoreOwner
            );

            // Validar comiss√£o (m√°x 20%)
            ensure!(percent <= 20, Error::<T>::CommissionTooHigh);

            let policy = CommissionPolicy {
                mode: mode.clone(),
                percent,
                min_reputation,
                daily_cap,
            };

            CommissionPolicies::<T>::insert(store_id, policy);

            Self::deposit_event(RawEvent::CommissionPolicySet(
                store_id,
                mode,
                percent,
            ));

            Ok(())
        }

        /// Solicitar afilia√ß√£o
        #[weight = 10_000]
        pub fn request_affiliation(
            origin,
            store_id: u64,
        ) -> DispatchResult {
            let affiliate = ensure_signed(origin)?;

            // Verificar se loja existe
            ensure!(
                pallet_stores::Stores::<T>::contains_key(store_id),
                Error::<T>::StoreNotFound
            );

            // Verificar pol√≠tica
            let policy = CommissionPolicies::<T>::get(store_id)
                .ok_or(Error::<T>::CommissionPolicyNotSet)?;

            ensure!(
                policy.mode == CommissionMode::Affiliates,
                Error::<T>::AffiliationNotRequired
            );

            // Criar solicita√ß√£o
            let approval = AffiliateApproval {
                store_id,
                affiliate_id: affiliate.clone(),
                custom_commission: None,
                monthly_cap: None,
                status: ApprovalStatus::Pending,
                approved_at: Zero::zero(),
            };

            AffiliateApprovals::<T>::insert(store_id, affiliate.clone(), approval);

            Self::deposit_event(RawEvent::AffiliationRequested(
                store_id,
                affiliate,
            ));

            Ok(())
        }

        /// Aprovar afiliado
        #[weight = 10_000]
        pub fn approve_affiliate(
            origin,
            store_id: u64,
            affiliate_id: T::AccountId,
            custom_commission: Option<u8>,
            monthly_cap: Option<BalanceOf<T>>,
        ) -> DispatchResult {
            let owner = ensure_signed(origin)?;

            // Verificar ownership
            ensure!(
                pallet_stores::Module::<T>::is_store_owner(store_id, &owner),
                Error::<T>::NotStoreOwner
            );

            // Validar comiss√£o customizada
            if let Some(commission) = custom_commission {
                ensure!(commission <= 20, Error::<T>::CommissionTooHigh);
            }

            // Atualizar status
            AffiliateApprovals::<T>::try_mutate(
                store_id,
                affiliate_id.clone(),
                |maybe_approval| -> DispatchResult {
                    let approval = maybe_approval.as_mut()
                        .ok_or(Error::<T>::AffiliationNotFound)?;

                    approval.status = ApprovalStatus::Approved;
                    approval.custom_commission = custom_commission;
                    approval.monthly_cap = monthly_cap;
                    approval.approved_at = <frame_system::Module<T>>::block_number();

                    Ok(())
                }
            )?;

            let commission = custom_commission.unwrap_or_else(|| {
                CommissionPolicies::<T>::get(store_id)
                    .map(|p| p.percent)
                    .unwrap_or(0)
            });

            Self::deposit_event(RawEvent::AffiliateApproved(
                store_id,
                affiliate_id,
                commission,
            ));

            Ok(())
        }

        /// Criar venda com split autom√°tico
        #[weight = 10_000]
        pub fn create_sale(
            origin,
            store_id: u64,
            buyer: T::AccountId,
            amount: BalanceOf<T>,
            affiliate: Option<T::AccountId>,
            commission_percent: u8,
        ) -> DispatchResult {
            let _seller = ensure_signed(origin)?;

            // Valida√ß√µes
            ensure!(!amount.is_zero(), Error::<T>::InvalidAmount);
            ensure!(commission_percent <= 20, Error::<T>::CommissionTooHigh);

            // Buscar loja
            let store = pallet_stores::Stores::<T>::get(store_id)
                .ok_or(Error::<T>::StoreNotFound)?;

            let seller = store.owner;

            // Calcular split
            let commission = amount * commission_percent.into() / 100u32.into();
            let bazari_fee = amount * T::BazariFeePercent::get().into() / 100u32.into();
            let seller_amount = amount - commission - bazari_fee;

            // Transferir fundos
            T::Currency::transfer(
                &buyer,
                &seller,
                seller_amount,
                ExistenceRequirement::KeepAlive,
            )?;

            if let Some(affiliate_acc) = affiliate.clone() {
                T::Currency::transfer(
                    &buyer,
                    &affiliate_acc,
                    commission,
                    ExistenceRequirement::KeepAlive,
                )?;
            }

            T::Currency::transfer(
                &buyer,
                &T::TreasuryAccount::get(),
                bazari_fee,
                ExistenceRequirement::KeepAlive,
            )?;

            // Registrar venda
            let sale_id = NextSaleId::<T>::get();
            let sale = Sale {
                sale_id,
                store_id,
                buyer: buyer.clone(),
                seller: seller.clone(),
                affiliate: affiliate.clone(),
                amount,
                commission_percent,
                commission_amount: commission,
                bazari_fee,
                seller_amount,
                status: SaleStatus::Completed,
                created_at: <frame_system::Module<T>>::block_number(),
                receipt_cid: None,
            };

            Sales::<T>::insert(sale_id, sale);
            NextSaleId::<T>::put(sale_id + 1);

            // Atualizar estat√≠sticas de afiliado
            if let Some(affiliate_acc) = affiliate.clone() {
                AffiliateStatsMap::<T>::mutate(&affiliate_acc, |stats| {
                    stats.total_sales += 1;
                    stats.total_volume += amount;
                    stats.total_commission += commission;
                });
            }

            // Incrementar reputa√ß√£o
            // TODO: Integrar com pallet_bazari_identity

            Self::deposit_event(RawEvent::SaleCompleted(
                sale_id,
                store_id,
                buyer,
                seller,
                affiliate,
                amount,
                commission,
                bazari_fee,
            ));

            Ok(())
        }

        /// Mint recibo NFT
        #[weight = 10_000]
        pub fn mint_sale_receipt(
            origin,
            sale_id: u64,
            receipt_cid: Vec<u8>,
        ) -> DispatchResult {
            // Apenas origem autorizada (backend)
            // TODO: Implementar EnsureOrigin customizado

            Sales::<T>::try_mutate(sale_id, |maybe_sale| -> DispatchResult {
                let sale = maybe_sale.as_mut()
                    .ok_or(Error::<T>::SaleNotFound)?;

                sale.receipt_cid = Some(receipt_cid.clone());
                Ok(())
            })?;

            Self::deposit_event(RawEvent::ReceiptMinted(
                sale_id,
                receipt_cid,
            ));

            Ok(())
        }

        /// Disputar venda
        #[weight = 10_000]
        pub fn dispute_sale(
            origin,
            sale_id: u64,
            reason: Vec<u8>,
        ) -> DispatchResult {
            let disputer = ensure_signed(origin)?;

            Sales::<T>::try_mutate(sale_id, |maybe_sale| -> DispatchResult {
                let sale = maybe_sale.as_mut()
                    .ok_or(Error::<T>::SaleNotFound)?;

                // Apenas buyer ou seller
                ensure!(
                    disputer == sale.buyer || disputer == sale.seller,
                    Error::<T>::NotAuthorized
                );

                sale.status = SaleStatus::Disputed;
                Ok(())
            })?;

            Self::deposit_event(RawEvent::SaleDisputed(
                sale_id,
                disputer,
                reason,
            ));

            Ok(())
        }
    }
}

// Erros
decl_error! {
    pub enum Error for Module<T: Config> {
        CommissionTooHigh,
        NotStoreOwner,
        StoreNotFound,
        SaleNotFound,
        NotAuthorized,
        InvalidAmount,
        CommissionPolicyNotSet,
        AffiliationNotRequired,
        AffiliationNotFound,
        InsufficientBalance,
    }
}

// Events - j√° definido acima
```

### Integra√ß√£o no Runtime

**Arquivo**: `~/bazari-chain/runtime/src/lib.rs`

```rust
// Adicionar configura√ß√£o do pallet
impl bazari_commerce::Config for Runtime {
    type Event = Event;
    type Currency = Balances;
    type BazariFeePercent = BazariFeePercent;
    type TreasuryAccount = TreasuryAccount;
}

// Adicionar ao construct_runtime!
construct_runtime!(
    pub enum Runtime where
        Block = Block,
        NodeBlock = opaque::Block,
        UncheckedExtrinsic = UncheckedExtrinsic
    {
        // ... outros pallets
        Stores: pallet_stores,
        BazariIdentity: pallet_bazari_identity,
        BazariCommerce: bazari_commerce, // NOVO
    }
);

// Constantes
parameter_types! {
    pub const BazariFeePercent: u8 = 2; // 2%
    pub const TreasuryAccount: AccountId = AccountId::from([0u8; 32]); // Placeholder
}
```

---

## üß™ Testes

### Testes Unit√°rios (BazariChain)

**Arquivo**: `~/bazari-chain/pallets/bazari-commerce/src/tests.rs`

```rust
#[test]
fn set_commission_policy_works() {
    new_test_ext().execute_with(|| {
        // Criar loja
        let store_id = 1;
        let owner = account(1);

        // Definir pol√≠tica
        assert_ok!(BazariCommerce::set_commission_policy(
            Origin::signed(owner),
            store_id,
            CommissionMode::Open,
            10,
            None,
            None,
        ));

        // Verificar storage
        let policy = CommissionPolicies::<Test>::get(store_id).unwrap();
        assert_eq!(policy.percent, 10);
        assert_eq!(policy.mode, CommissionMode::Open);

        // Verificar evento
        assert!(System::events().iter().any(|e| {
            matches!(e.event, Event::BazariCommerce(
                RawEvent::CommissionPolicySet(1, CommissionMode::Open, 10)
            ))
        }));
    });
}

#[test]
fn create_sale_with_split_works() {
    new_test_ext().execute_with(|| {
        let store_id = 1;
        let buyer = account(1);
        let seller = account(2);
        let affiliate = account(3);
        let amount = 1000;

        // Configurar saldos
        let _ = Balances::deposit_creating(&buyer, 10000);

        // Criar venda
        assert_ok!(BazariCommerce::create_sale(
            Origin::signed(seller),
            store_id,
            buyer.clone(),
            amount,
            Some(affiliate.clone()),
            10, // 10% comiss√£o
        ));

        // Verificar split
        // Seller: 880 (88%)
        // Affiliate: 100 (10%)
        // Treasury: 20 (2%)
        assert_eq!(Balances::free_balance(&seller), 880);
        assert_eq!(Balances::free_balance(&affiliate), 100);
        assert_eq!(Balances::free_balance(&TreasuryAccount::get()), 20);

        // Verificar venda registrada
        let sale = Sales::<Test>::get(1).unwrap();
        assert_eq!(sale.amount, amount);
        assert_eq!(sale.commission_amount, 100);
        assert_eq!(sale.status, SaleStatus::Completed);
    });
}

#[test]
fn affiliate_approval_workflow() {
    new_test_ext().execute_with(|| {
        let store_id = 1;
        let owner = account(1);
        let affiliate = account(2);

        // Definir pol√≠tica (modo Affiliates)
        assert_ok!(BazariCommerce::set_commission_policy(
            Origin::signed(owner),
            store_id,
            CommissionMode::Affiliates,
            10,
            None,
            None,
        ));

        // Solicitar afilia√ß√£o
        assert_ok!(BazariCommerce::request_affiliation(
            Origin::signed(affiliate.clone()),
            store_id,
        ));

        // Verificar status pendente
        let approval = AffiliateApprovals::<Test>::get(store_id, affiliate.clone()).unwrap();
        assert_eq!(approval.status, ApprovalStatus::Pending);

        // Aprovar afiliado
        assert_ok!(BazariCommerce::approve_affiliate(
            Origin::signed(owner),
            store_id,
            affiliate.clone(),
            Some(8), // Comiss√£o customizada
            None,
        ));

        // Verificar aprova√ß√£o
        let approval = AffiliateApprovals::<Test>::get(store_id, affiliate).unwrap();
        assert_eq!(approval.status, ApprovalStatus::Approved);
        assert_eq!(approval.custom_commission, Some(8));
    });
}

#[test]
fn commission_too_high_fails() {
    new_test_ext().execute_with(|| {
        let store_id = 1;
        let owner = account(1);

        // Tentar definir comiss√£o > 20%
        assert_noop!(
            BazariCommerce::set_commission_policy(
                Origin::signed(owner),
                store_id,
                CommissionMode::Open,
                25, // ERRO: > 20%
                None,
                None,
            ),
            Error::<Test>::CommissionTooHigh
        );
    });
}
```

### Testes E2E (Apps/API)

**Arquivo**: `~/bazari/apps/api/src/__tests__/affiliates.test.ts`

```typescript
import { test } from 'tap';
import { buildServer } from '../server';

test('Criar marketplace do afiliado', async (t) => {
  const app = await buildServer();

  const response = await app.inject({
    method: 'POST',
    url: '/api/affiliates/marketplaces',
    headers: {
      authorization: 'Bearer valid-token',
    },
    payload: {
      name: 'Loja do Teste',
      slug: 'loja-teste',
      description: 'Marketplace de teste',
      theme: 'bazari',
    },
  });

  t.equal(response.statusCode, 201);
  const body = JSON.parse(response.body);
  t.ok(body.id);
  t.equal(body.slug, 'loja-teste');
  t.match(body.url, /bazari\.xyz\/@loja-teste/);
});

test('Adicionar produto √† vitrine', async (t) => {
  const app = await buildServer();

  // Criar marketplace primeiro
  const marketplace = await createTestMarketplace(app);

  const response = await app.inject({
    method: 'POST',
    url: `/api/affiliates/marketplaces/${marketplace.id}/products`,
    headers: {
      authorization: 'Bearer valid-token',
    },
    payload: {
      storeId: 123,
      productId: 'prod-abc',
      featured: true,
    },
  });

  t.equal(response.statusCode, 201);
  const body = JSON.parse(response.body);
  t.equal(body.storeId, 123);
  t.equal(body.productId, 'prod-abc');
});

test('Fluxo completo de venda com afiliado', async (t) => {
  const app = await buildServer();

  // Setup
  const marketplace = await createTestMarketplace(app);
  const product = await addProductToMarketplace(app, marketplace.id);

  // Simular compra
  const response = await app.inject({
    method: 'POST',
    url: '/api/orders',
    headers: {
      authorization: 'Bearer buyer-token',
    },
    payload: {
      storeId: 123,
      productId: product.productId,
      affiliateId: marketplace.ownerId,
      amount: '1000',
    },
  });

  t.equal(response.statusCode, 201);
  const order = JSON.parse(response.body);

  // Verificar split
  t.equal(order.sellerAmount, '880'); // 88%
  t.equal(order.commissionAmount, '100'); // 10%
  t.equal(order.bazariFee, '20'); // 2%

  // Verificar venda registrada
  const sale = await app.inject({
    method: 'GET',
    url: `/api/affiliates/marketplaces/${marketplace.id}/sales/${order.saleId}`,
    headers: {
      authorization: 'Bearer valid-token',
    },
  });

  t.equal(sale.statusCode, 200);
  const saleData = JSON.parse(sale.body);
  t.equal(saleData.status, 'completed');
});

test('Solicitar afilia√ß√£o - modo Affiliates', async (t) => {
  const app = await buildServer();

  // Loja com modo 'affiliates'
  const storeId = 123;

  const response = await app.inject({
    method: 'POST',
    url: '/api/affiliates/requests',
    headers: {
      authorization: 'Bearer affiliate-token',
    },
    payload: {
      storeId,
      message: 'Gostaria de promover seus produtos',
    },
  });

  t.equal(response.statusCode, 201);
  const request = JSON.parse(response.body);
  t.equal(request.status, 'pending');
  t.equal(request.storeId, storeId);
});

test('Aprovar afiliado', async (t) => {
  const app = await buildServer();

  const storeId = 123;
  const requestId = 'req-abc';

  const response = await app.inject({
    method: 'POST',
    url: `/api/stores/${storeId}/affiliates/approve`,
    headers: {
      authorization: 'Bearer store-owner-token',
    },
    payload: {
      requestId,
      customCommission: 8,
      monthlyCap: '5000',
    },
  });

  t.equal(response.statusCode, 200);
  const approval = JSON.parse(response.body);
  t.equal(approval.status, 'approved');
  t.equal(approval.customCommission, 8);
});
```

---

## üìà Modelo Econ√¥mico

### Fluxo de Valor (BZR)

```
Cliente paga 1000 BZR
          ‚îÇ
          ‚îú‚îÄ 880 BZR (88%) ‚Üí Vendedor/Lojista
          ‚îú‚îÄ 100 BZR (10%) ‚Üí Afiliado/Promotor
          ‚îî‚îÄ  20 BZR (2%)  ‚Üí Tesouro Bazari
```

### Taxas e Comiss√µes

| Participante | Percentual | Configur√°vel? |
|-------------|-----------|---------------|
| **Vendedor** | 88-98% | N√£o (depende da comiss√£o) |
| **Afiliado** | 0-20% | Sim (lojista define) |
| **Bazari** | 2% | N√£o (fixo) |

**Regras:**
- Comiss√£o m√≠nima: 0% (loja sem afiliados)
- Comiss√£o m√°xima: 20%
- Taxa Bazari: 2% (fixa, n√£o negoci√°vel)
- Total: seller% + affiliate% + 2% = 100%

### Cen√°rios de Comiss√£o

#### Cen√°rio 1: Modo Open (Comiss√£o 10%)
- Qualquer pessoa pode promover
- Compra de 1000 BZR:
  - Vendedor: 880 BZR
  - Afiliado: 100 BZR
  - Bazari: 20 BZR

#### Cen√°rio 2: Modo Affiliates (Comiss√£o customizada 8%)
- Apenas afiliados aprovados
- Compra de 1000 BZR:
  - Vendedor: 900 BZR
  - Afiliado: 80 BZR
  - Bazari: 20 BZR

#### Cen√°rio 3: Venda direta (sem afiliado)
- Compra de 1000 BZR:
  - Vendedor: 980 BZR
  - Bazari: 20 BZR

### Incentivos de Crescimento

#### Para Afiliados:
- ‚úÖ Comiss√µes autom√°ticas em BZR
- ‚úÖ Reputa√ß√£o on-chain (ranking p√∫blico)
- ‚úÖ Badges de confian√ßa (Bronze/Silver/Gold/Platinum)
- ‚úÖ Autonomia total (marca pr√≥pria)
- ‚úÖ Sem custo de entrada

#### Para Lojistas:
- ‚úÖ Marketing distribu√≠do (ex√©rcito de promotores)
- ‚úÖ Custo de aquisi√ß√£o zero (paga apenas por venda)
- ‚úÖ Controle total (aprovar afiliados, definir comiss√µes)
- ‚úÖ Aumento de visibilidade org√¢nica

#### Para o Ecossistema:
- ‚úÖ Crescimento viral (efeito de rede geom√©trico)
- ‚úÖ Circula√ß√£o de BZR (economia real)
- ‚úÖ Descentraliza√ß√£o de poder (cada pessoa √© dono)
- ‚úÖ Sustentabilidade (taxa de 2% mant√©m infraestrutura)

---

## üéÆ Gamifica√ß√£o e Ranking

### Sistema de Badges

| Badge | Crit√©rios | Benef√≠cios |
|-------|----------|-----------|
| **Bronze** | 10+ vendas, 90%+ feedback positivo | Badge no perfil |
| **Silver** | 50+ vendas, 95%+ feedback positivo | Badge + prioridade em destaque |
| **Gold** | 200+ vendas, 98%+ feedback positivo | Badge + comiss√µes maiores dispon√≠veis |
| **Platinum** | 1000+ vendas, 99%+ feedback positivo | Badge + acesso a produtos exclusivos |

### Ranking Mensal

**Crit√©rios de ordena√ß√£o:**
1. Volume de vendas (BZR)
2. Quantidade de vendas
3. Taxa de convers√£o
4. Avalia√ß√£o m√©dia

**Pr√™mios:**
- Top 10: Destaque na homepage
- Top 3: B√¥nus em BZR (do tesouro)
- Top 1: Selo especial "Afiliado do M√™s"

### Miss√µes (Fase 5 - Futuro)

**Exemplos:**
- "Primeira venda": +50 BZR
- "10 vendas em um m√™s": +200 BZR
- "Compartilhar produto no WhatsApp": +10 BZR
- "Receber avalia√ß√£o 5 estrelas": +25 BZR

---

## üöÄ Roadmap de Implementa√ß√£o

### Fase 1: MVP B√°sico (4-6 semanas)

**Blockchain:**
- [ ] Implementar pallet `bazari-commerce`
- [ ] Extrinsics: `set_commission_policy`, `create_sale`
- [ ] Storage e eventos
- [ ] Testes unit√°rios
- [ ] Integra√ß√£o no runtime

**Backend:**
- [ ] Schema Prisma (AffiliateMarketplace, AffiliateProduct)
- [ ] Endpoints: criar marketplace, adicionar produtos
- [ ] Servi√ßo de integra√ß√£o com blockchain
- [ ] Worker de sincroniza√ß√£o de eventos

**Frontend:**
- [ ] P√°gina p√∫blica da vitrine (/@slug)
- [ ] Painel do afiliado (dashboard)
- [ ] Busca de produtos afili√°veis
- [ ] Checkout com tracking de afiliado

**Funcionalidades:**
- ‚úÖ Criar marketplace personalizado
- ‚úÖ Adicionar produtos √† vitrine (modo Open)
- ‚úÖ Compra com split autom√°tico on-chain
- ‚úÖ Estat√≠sticas b√°sicas

### Fase 2: Aprova√ß√£o de Afiliados (2-3 semanas)

**Blockchain:**
- [ ] Extrinsics: `request_affiliation`, `approve_affiliate`
- [ ] Storage: `AffiliateApprovals`

**Backend:**
- [ ] Tabela `AffiliateRequest`
- [ ] Endpoints: solicitar, aprovar, rejeitar

**Frontend:**
- [ ] Painel do lojista (gerenciar afiliados)
- [ ] Fluxo de solicita√ß√£o de afilia√ß√£o
- [ ] Notifica√ß√µes de aprova√ß√£o/rejei√ß√£o

**Funcionalidades:**
- ‚úÖ Modo "Affiliates" (aprova√ß√£o manual)
- ‚úÖ Comiss√µes customizadas por afiliado
- ‚úÖ Limites mensais

### Fase 3: Gamifica√ß√£o e Ranking (2-3 semanas)

**Blockchain:**
- [ ] Estender `bazari-identity` (TrustBadge)
- [ ] Storage: `AffiliateStatsMap`

**Backend:**
- [ ] Tabela `AffiliateRanking`
- [ ] Worker de c√°lculo de rankings
- [ ] Endpoints de rankings e badges

**Frontend:**
- [ ] P√°gina de rankings
- [ ] Badges no perfil
- [ ] Conquistas e progresso

**Funcionalidades:**
- ‚úÖ Badges autom√°ticos (Bronze/Silver/Gold/Platinum)
- ‚úÖ Ranking mensal
- ‚úÖ Estat√≠sticas p√∫blicas

### Fase 4: Avan√ßado (4-6 semanas)

**Funcionalidades:**
- ‚úÖ Recibo NFT de vendas (IPFS)
- ‚úÖ Sistema de disputas
- ‚úÖ Analytics avan√ßado (gr√°ficos, convers√£o)
- ‚úÖ Integra√ß√£o com WhatsApp (compartilhar vitrine)
- ‚úÖ Integra√ß√£o com BazChat (vender via chat)
- ‚úÖ Modo "Followers" (comiss√£o para seguidores)

### Fase 5: Monetiza√ß√£o Avan√ßada (Futuro)

**Pallet `bazari-rewards`:**
- ‚úÖ Cashback LIVO
- ‚úÖ Miss√µes on-chain
- ‚úÖ Subafiliados (2 n√≠veis)

### Fase 6: Tokeniza√ß√£o (Futuro)

**Funcionalidades:**
- ‚úÖ NFT do marketplace (transfer√≠vel)
- ‚úÖ Royalties on-chain
- ‚úÖ Venda do marketplace

---

## üîê Seguran√ßa e Governan√ßa

### Preven√ß√£o de Abuso

**Dumping de comiss√µes:**
- Limite m√°ximo: 20%
- Valida√ß√£o on-chain

**Spam de afiliados:**
- Modo "Affiliates" (aprova√ß√£o manual)
- Reputa√ß√£o m√≠nima configur√°vel

**Marketplaces de baixa qualidade:**
- Sistema de avalia√ß√£o p√∫blica
- Den√∫ncias descentralizadas (Fase 7)

**Disputas:**
- Extrinsic `dispute_sale`
- Sistema de vota√ß√£o DAO-light (futuro)

### Governan√ßa

**Par√¢metros ajust√°veis:**
- Taxa Bazari (via governan√ßa on-chain)
- Limites de comiss√£o
- Crit√©rios de badges

**Modera√ß√£o:**
- Den√∫ncias descentralizadas (pallet `bazari-moderation`)
- Vota√ß√£o por reputa√ß√£o
- Penalidades autom√°ticas

---

## üìä M√©tricas de Sucesso

### KPIs Principais

**Crescimento:**
- N√∫mero de marketplaces criados
- Taxa de convers√£o (visitante ‚Üí comprador)
- Crescimento m√™s a m√™s

**Engajamento:**
- Produtos adicionados por afiliado
- Vendas por afiliado
- Taxa de reten√ß√£o

**Economia:**
- Volume total transacionado (BZR)
- Comiss√µes pagas aos afiliados
- Circula√ß√£o de BZR

**Social:**
- Reputa√ß√£o m√©dia dos afiliados
- Taxa de aprova√ß√£o de solicita√ß√µes
- N√∫mero de badges emitidos

### Metas (12 meses)

- **1000** marketplaces ativos
- **50000** vendas via afiliados
- **1M BZR** em comiss√µes pagas
- **100** afiliados com badge Gold ou superior

---

## üåç Impacto Social

### Democratiza√ß√£o do Com√©rcio

- ‚úÖ Qualquer pessoa pode ter seu pr√≥prio marketplace
- ‚úÖ Sem necessidade de estoque ou capital inicial
- ‚úÖ Renda descentralizada (sem intermedi√°rios)

### Economia Popular

- ‚úÖ Circula√ß√£o local de BZR
- ‚úÖ Empreendedorismo acess√≠vel
- ‚úÖ Recompensa por engajamento comunit√°rio

### Descentraliza√ß√£o de Poder

- ‚úÖ Controle total sobre a marca pr√≥pria
- ‚úÖ Autonomia nas decis√µes (curadoria)
- ‚úÖ Participa√ß√£o direta na economia on-chain

---

## üìù Conclus√£o

O **Sistema de Marketplace do Afiliado** √© uma das funcionalidades mais estrat√©gicas e transformadoras do ecossistema Bazari. Ele:

1. **Cria um ex√©rcito descentralizado de promotores** que divulgam produtos organicamente
2. **Gera crescimento viral** sem custo de m√≠dia paga
3. **Aumenta a demanda por BZR** (moeda circulante real)
4. **Refor√ßa o prop√≥sito social** de dar poder econ√¥mico ao povo
5. **√â tecnicamente vi√°vel** com a arquitetura h√≠brida descentralizada existente

### Pr√≥ximos Passos

1. **Aprovar especifica√ß√£o** com stakeholders
2. **Iniciar Fase 1** (MVP B√°sico)
3. **Implementar pallet `bazari-commerce`** (blockchain)
4. **Desenvolver backend e frontend** em paralelo
5. **Testar em testnet** antes de deploy em produ√ß√£o
6. **Lan√ßar MVP** para primeiros usu√°rios beta
7. **Iterar** baseado em feedback

---

**Vers√£o**: 1.0.0
**Autores**: Equipe Bazari
**√öltima atualiza√ß√£o**: 2025-10-15

---

**"Cada pessoa, uma vitrine. Cada venda, um passo para a liberdade."**
