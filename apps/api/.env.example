PORT=3000

# Postgres (SEU padrão)
DATABASE_URL=postgresql://bazari:bazari@localhost:5432/bazari_db

# Storage (sem IPFS)
STORAGE_PROVIDER=fs   # "fs" | "s3"

# On-chain / IPFS
BAZARICHAIN_WS=ws://127.0.0.1:9944
IPFS_API_URLS=http://127.0.0.1:5001
IPFS_GATEWAY_URL=http://127.0.0.1:8080/ipfs/
IPFS_TIMEOUT_MS=30000
IPFS_RETRY_ATTEMPTS=3
STORES_REGISTRY_ENABLED=0

# AI Gateway (BazChat AI features)
AI_GATEWAY_URL=http://localhost:3002

# S3 (preencher quando usar s3)
S3_REGION=us-east-1
S3_BUCKET=bazari-bucket
S3_ACCESS_KEY_ID=xxx
S3_SECRET_ACCESS_KEY=xxx
S3_PUBLIC_BASEURL=https://bazari-bucket.s3.amazonaws.com

# OpenSearch
USE_OPENSEARCH=false
# OPENSEARCH_NODE=http://localhost:9200
# OPENSEARCH_INDEX_STORES=bazari_stores
OS_INDEX=bazari-items-v5
# Se seu OS estiver com segurança (https + auth), use:
# OPENSEARCH_URL=https://localhost:9200
# OS_USER=admin
# OS_PASS=<sua_senha>

# Redis (BullMQ)
REDIS_URL=redis://localhost:6379

# --- Auth/SIWS ---
JWT_SECRET=replace-with-random-hex-64-bytes
AUTH_DOMAIN=localhost
AUTH_URI=http://localhost:3000/login
BAZARICHAIN_GENESIS_HASH=0x0000000000000000000000000000000000000000000000000000000000000000

# Feature flags (Fase 0 – default OFF)
# Liga comportamentos de lojas on‑chain na API quando =1 (ou true)
STORE_ONCHAIN_V1=1

# Pagamentos/Escrow
ESCROW_ACCOUNT=5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
MARKETPLACE_FEE_BPS=250  # Taxa do marketplace em basis points (250 = 2.50%)

# ==============================================
# OAUTH & SOCIAL LOGIN (Fase 1)
# ==============================================
# IMPORTANTE: Você precisa criar as credentials no Google Cloud Console
# Passo a passo: ver arquivo GOOGLE_OAUTH_SETUP.md
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

# Frontend redirect após OAuth success
FRONTEND_AUTH_SUCCESS_URL=http://localhost:3000/auth/google/success

# Session secret (gere um valor seguro - NÃO COMMITAR)
SESSION_SECRET=generate-with-openssl-rand-64

# Social auth mode (MVP = "managed_seed", Future = "mpc")
SOCIAL_AUTH_MODE=managed_seed

# ==============================================
# ENCRYPTION (para armazenar wallet shares)
# ==============================================
# Encryption key para criptografar mnemonics no servidor (gera 64 bytes hex)
ENCRYPTION_KEY=replace-with-64-byte-hex-key
