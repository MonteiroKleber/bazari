{
  "module": {
    "id": "store",
    "name": "Store & Seller Management",
    "category": "commerce",
    "version": "1.0.0",
    "status": "production",
    "description": "Empoderar empreendedores a criar lojas tokenizadas, descentralizadas e soberanas com governança própria e catálogo on-chain."
  },
  "vision": {
    "statement": "Empoderar empreendedores a criar lojas tokenizadas, descentralizadas e soberanas com governança própria e catálogo on-chain.",
    "principles": [
      "Self-Sovereign - Loja é do dono (NFT ownership)",
      "Portable - Catálogo em IPFS (plataforma-agnostic)",
      "Versioned - Histórico de publicações on-chain",
      "Decentralized Governance - Lojas podem ter DAO próprio",
      "Owner - Full control (SS58 address)",
      "Operators - Can manage products, não podem transfer NFT",
      "Public - Can view catalog"
    ]
  },
  "entities": [
    {
      "name": "SellerProfile",
      "table": "SellerProfile",
      "fields": [
        {
          "name": "id",
          "type": "String (CUID)",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "userId",
          "type": "String (UUID)",
          "constraints": [
            "FK -> User.id",
            "INDEX"
          ]
        },
        {
          "name": "shopName",
          "type": "String",
          "description": "Nome da loja"
        },
        {
          "name": "shopSlug",
          "type": "String",
          "description": "URL slug único",
          "constraints": [
            "UNIQUE",
            "INDEX"
          ]
        },
        {
          "name": "about",
          "type": "String?",
          "description": "Sobre a loja (markdown)"
        },
        {
          "name": "ratingAvg",
          "type": "Float",
          "constraints": [
            "DEFAULT 0"
          ]
        },
        {
          "name": "ratingCount",
          "type": "Int",
          "constraints": [
            "DEFAULT 0"
          ]
        },
        {
          "name": "policies",
          "type": "Json?",
          "description": "Políticas (shipping, returns)"
        },
        {
          "name": "avatarUrl",
          "type": "String?"
        },
        {
          "name": "bannerUrl",
          "type": "String?"
        },
        {
          "name": "isDefault",
          "type": "Boolean",
          "constraints": [
            "DEFAULT false"
          ]
        },
        {
          "name": "onChainStoreId",
          "type": "BigInt?",
          "description": "Store NFT ID",
          "constraints": [
            "INDEX"
          ]
        },
        {
          "name": "ownerAddress",
          "type": "String?",
          "description": "SS58 address do owner"
        },
        {
          "name": "operatorAddresses",
          "type": "String[]",
          "description": "Operators delegados",
          "constraints": [
            "GIN INDEX"
          ]
        },
        {
          "name": "syncStatus",
          "type": "String?",
          "description": "pending | synced | error"
        },
        {
          "name": "version",
          "type": "Int?",
          "description": "Versão on-chain"
        },
        {
          "name": "metadataCid",
          "type": "String?",
          "description": "IPFS CID do store.json"
        },
        {
          "name": "productsCid",
          "type": "String?",
          "description": "IPFS CID do products.json"
        },
        {
          "name": "pickupAddress",
          "type": "Json?",
          "description": "Endereço para pickup"
        }
      ],
      "relations": [
        {
          "name": "user",
          "type": "N:1",
          "target": "User"
        },
        {
          "name": "products",
          "type": "1:N",
          "target": "Product"
        }
      ]
    },
    {
      "name": "StorePublishHistory",
      "table": "StorePublishHistory",
      "fields": [
        {
          "name": "id",
          "type": "String (CUID)"
        },
        {
          "name": "sellerProfileId",
          "type": "String"
        },
        {
          "name": "version",
          "type": "Int"
        },
        {
          "name": "blockNumber",
          "type": "BigInt"
        },
        {
          "name": "extrinsicHash",
          "type": "String?"
        },
        {
          "name": "metadataCid",
          "type": "String"
        },
        {
          "name": "productsCid",
          "type": "String"
        },
        {
          "name": "publishedAt",
          "type": "DateTime"
        }
      ]
    }
  ],
  "valueObjects": [],
  "apis": [
    {
      "method": "POST",
      "path": "/api/sellers",
      "auth": true,
      "description": "```http"
    },
    {
      "method": "GET",
      "path": "/api/sellers/:slug",
      "auth": true,
      "description": "```http"
    },
    {
      "method": "POST",
      "path": "/api/stores/publish",
      "auth": true,
      "description": "```http"
    },
    {
      "method": "GET",
      "path": "/api/me/sellers",
      "auth": true,
      "description": "Returns all stores owned by user."
    }
  ],
  "useCases": [
    {
      "id": "UC-01",
      "name": "Core Use Case",
      "actors": [
        "User",
        "System"
      ],
      "flow": "User performs action → System processes → Returns result"
    }
  ],
  "dependencies": {
    "internal": [],
    "external": []
  },
  "security": {
    "authentication": "JWT-based via auth module",
    "authorization": "Role-based and ownership-based access control"
  },
  "metrics": {
    "key_metrics": []
  }
}