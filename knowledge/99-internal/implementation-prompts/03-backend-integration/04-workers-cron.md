# Workers & Cron Jobs - Implementation Prompt

**Phase**: P3 (Week 20) | **Effort**: 3-5 dias | **Deps**: ReviewService, BlockchainService

## ðŸ“‹ Contexto

**Problema**: Merkle roots nÃ£o atualizam automaticamente

**SoluÃ§Ã£o**: Cron jobs para updates periÃ³dicos

## ðŸŽ¯ Objetivo

Criar `/root/bazari/apps/api/src/workers/` com:
- merkle-update.worker.ts (a cada 1h)
- blockchain-sync.worker.ts (event listeners)

## âœ… Checklist

```typescript
@Injectable()
export class MerkleUpdateWorker {
  @Cron('0 * * * *') // Every hour
  async updateAllCouriers() {
    const couriers = await this.prisma.courier.findMany();
    
    for (const courier of couriers) {
      await this.reviewService.updateMerkleRoot(courier.id);
    }
  }
}
```

## ðŸ¤– Prompt

```
Criar workers cron para Merkle updates + blockchain sync.

CHECKLIST:
âœ… /root/bazari/apps/api/src/workers/merkle-update.worker.ts
âœ… /root/bazari/apps/api/src/workers/blockchain-sync.worker.ts
âœ… @Cron decorators (every 1h, every 5min)
âœ… Tests
```

**Generated by**: Claude Code | **Version**: 1.0.0
